<!DOCTYPE html>
<html lang="en"> <head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title><%= title %></title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="<%= "#{asciidoctorcss}/asciidoctor.css" %>">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
  em {
    background-color: cyan;
  } </style>
</head>
<body class="article">
  <div id="header">
    <h1><%= title %></h1>
  </div>
  <div id="content">
    <div>
      <style>
        .box {
          width: 100px;
          height: 100px;
          /*background: #000;*/
          background: blue;
          /*          name   duration
                              |  time function
                              |  |    delay
                              |  |    |  iteration count
                              |  |    |  | direction
                              |  |    |  | |         fill mode
                              V  V    V  V V         V    play state*/
        /*animation: rotation 2s ease 0s 1 alternate none running;*/
          animation: rotation 1s ease 0.1s infinite alternate none running;
        }

        @keyframes rotation {
          0% {
            transform: scale(.3);
          }

          100% {
            transform: scale(.6) rotate(-45deg);
            /*background: red;*/
          }
        }
      </style>
      <div class="box"></div>
    </div> 
  </div>
  <div id="footer">
  </div>

  <script>
  window.onload = ()=>{  
    var ws = new WebSocket(`ws://${location.hostname}:<%= port %>`);
    var id = <%= pid %>;
    ws.onopen = ()=>{
        ws.send(id);
    }
    ws.onmessage = (e)=>{
      console.log(e.data);
      if (e.data == "dead" || e.data == "false"){
        location.reload();
      } else if (e.data == "") {
        alert("looks an Exception occured in server");
        //location.reload();
      }
    }
  }
  </script>
</body>
</html>
